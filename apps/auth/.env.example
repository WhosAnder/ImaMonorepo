# =================================
# Auth Service Environment Configuration
# =================================

# PostgreSQL Database URL (REQUIRED)
# PostgreSQL connection string for user authentication database
# Example: postgresql://user:password@localhost:5432/database_name
# This variable is REQUIRED - the service will throw an error if not set
DATABASE_URL=postgresql://user:password@localhost:5432/ima_auth

# Better Auth Secret (REQUIRED)
# Secret key for session encryption and token signing
# MUST be at least 32 characters long for adequate security
# Generate with: openssl rand -base64 32
# This variable is REQUIRED - the service will throw an error if not set
BETTER_AUTH_SECRET=your-secret-key-min-32-chars-here

# Server Configuration
# HTTP server port for the auth service
# Default: 5001
PORT=5001

# Node Environment (development/production)
# Used to determine cookie security settings
# Default: development
NODE_ENV=development

# BetterAuth Configuration
# Base URL for BetterAuth library configuration
# Used for callback URLs and session management
# Should match where auth service is deployed
# Examples:
#   Local: http://localhost:5001
#   Railway: https://auth-production-xxxx.up.railway.app
#   Custom: https://auth.domain.com
# Default: http://localhost:5001
BETTER_AUTH_URL=http://localhost:5001

# =================================
# CORS Configuration
# =================================

# Comma-separated list of allowed origins for CORS
# These origins will be allowed to make requests to the auth service
# IMPORTANT: Must include ALL frontend URLs that need to authenticate
# Examples:
#   Local: http://localhost:3000
#   Railway: https://web-production-xxxx.up.railway.app,https://api-production-xxxx.up.railway.app
#   Custom: https://domain.com,https://api.domain.com
# Default: http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000

# =================================
# Cookie Configuration (Production Only)
# =================================

# Cookie domain for cross-subdomain session sharing (OPTIONAL)
# Only needed in production when frontend and backend are on different subdomains
# 
# HOW IT WORKS:
# - When set, cookies will be shared across all subdomains
# - Format: Use a leading dot (.) followed by the parent domain
# 
# WHEN TO USE:
# - Railway subdomains: Set to .railway.app
# - Custom domain: Set to .yourdomain.com (e.g., .example.com)
# - Local development: Leave empty or comment out
#
# EXAMPLES:
#   Railway: COOKIE_DOMAIN=.railway.app
#   Custom:  COOKIE_DOMAIN=.domain.com
#   Local:   # Not needed, leave empty
#
# SECURITY NOTE:
# - Cookies will work on auth.railway.app, web.railway.app, api.railway.app
# - Or on auth.domain.com, domain.com, api.domain.com
# - Only set this in production; local development works without it
# Default: Auto-detected from BETTER_AUTH_URL in production
# COOKIE_DOMAIN=

# =================================
# Admin User Creation (for scripts/create-admin-user.ts)
# =================================
# These variables are only used by the admin user creation script
# Uncomment and set them when running the script

# Email for creating/updating admin user via script
# Default: admin@ima.com
# ADMIN_EMAIL=admin@ima.com

# Password for creating/updating admin user via script
# Default: adminUser123
# ADMIN_PASSWORD=adminUser123

# Display name for admin user
# Default: Admin User
# ADMIN_NAME=Admin User

# Role assignment for admin user
# Default: admin
# ADMIN_ROLE=admin
